<!-- Itinerary Timeline Component with Drag-and-Drop -->
<div class="itinerary-timeline">
  @if (groupedItems.length === 0) {
    <div class="timeline-empty">
      <div class="empty-icon" aria-hidden="true">ðŸ“…</div>
      <p class="empty-message">No itinerary items to display</p>
      <p class="empty-hint">Add flights, accommodations, or transportation to build your itinerary</p>
    </div>
  } @else {
    <div class="timeline-content">
      @for (group of groupedItems; track group.date.getTime()) {
        <div class="date-group">
          <div class="date-header">
            <div class="date-marker" aria-hidden="true"></div>
            <h3 class="date-label">{{ group.dateLabel }}</h3>
          </div>
          <div class="date-items">
            <app-drag-drop-list
              [items]="group.items"
              [disabled]="!enableDragDrop"
              (itemReordered)="onItemReordered($event)"
              (itemClicked)="onItemClicked($event)"
              (itemEdited)="onItemEdited($event)"
              (itemDeleted)="onItemDeleted($event)">
            </app-drag-drop-list>
            @for (gap of getGapsForGroup(group.items); track $index) {
              <app-gap-indicator
                [gap]="gap"
                class="timeline-gap">
              </app-gap-indicator>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
